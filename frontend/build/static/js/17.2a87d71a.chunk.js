(this.webpackJsonpshareiiitd=this.webpackJsonpshareiiitd||[]).push([[17],{343:function(e,t,c){"use strict";c.d(t,"a",(function(){return b})),c.d(t,"b",(function(){return u}));var a=c(21),n=c.n(a),s=c(42),r=c(6),i=c(43),j=c.n(i),l=c(44),o=c(82),d=function(){return{Authorization:"Token "+Object(o.a)()}},b=function(e){var t=e.id,c=e.data;return function(){var e=Object(s.a)(n.a.mark((function e(a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:r.e,data:c}),e.next=3,j.a.patch("".concat(l.a,"/api/votelog/"),c,{params:{post:t},headers:d()}).then((function(e){a({type:r.f,data:e.data})})).catch((function(e){a({type:r.d,errmess:"Error in connection with Server"})}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},u=function(e){return function(){var t=Object(s.a)(n.a.mark((function t(c){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:r.Mb}),t.next=3,j.a.get("".concat(l.a,"/api/myactivity"),{params:e,headers:d()}).then((function(e){return c({type:r.Nb,data:e.data.results}),e.data.results})).catch((function(e){c({type:r.Lb,errmess:"Error in connection with Server"})}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},344:function(e,t,c){"use strict";var a=c(500),n=c(364),s=c(3),r={position:"absolute",top:"40%",left:"50%",maxWidth:"60vh",maxHeight:"90vh",overflow:"auto",transform:"translate(-50%, -50%)",bgcolor:"background.paper",scrollbarWidth:"none",msOverflowStyle:"none"};t.a=function(e){var t=e.image,c=e.open,i=e.onClose;return Object(s.jsx)(a.a,{open:c,onClose:i,children:Object(s.jsx)(n.a,{sx:r,children:Object(s.jsx)("img",{src:t,alt:"image",className:"img-fluid"})})})}},367:function(e,t,c){},506:function(e,t,c){"use strict";c.r(t);var a=c(4),n=c(169),s=c(41),r=c(0),i=c.n(r),j=c(516),l=c(502),o=c(520),d=c(364),b=c(319),u=c(320),h=c(321),x=c(318),O=c(166),m=c(219),p=c(151),f=c(20),v=c.n(f),g=c(17),y=c(35),N=c(343),w=c(30),k=c(511),S=c(164),_=c.n(S),C=(c(367),c(344)),I=c(3);var F=Object(g.i)((function(e){var t=e.id,c=e.description,a=(e.book,e.category,e.image_url),n=e.created_by,i=e.created_at,j=(e.is_request,e.title),l=e.upvote_count,o=e.vote_log,d=Object(r.useState)(!1),x=Object(s.a)(d,2),O=x[0],f=x[1],g=Object(r.useState)(l),S=Object(s.a)(g,2),F=S[0],D=S[1],P=Object(r.useState)(o.upvoted_flag),z=Object(s.a)(P,2),E=z[0],T=z[1],U=Object(r.useState)(o.saved_flag),J=Object(s.a)(U,2),W=J[0],q=J[1],A=Object(r.useState)(o.dismiss_flag),B=Object(s.a)(A,2),G=B[0],H=B[1],L=Object(y.c)(),M=function(e){var c={};1==e?(D(E?F-1:F+1),c.upvoted_flag=!E,T(!E)):2==e?(c.saved_flag=!W,q(!W)):3==e&&(c.dismiss_flag=!G,H(!G)),L(Object(N.a)({id:t,data:c}))};return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(C.a,{image:a,open:O,onClose:function(){return f(!O)}}),Object(I.jsxs)(b.a,{className:"bg-white pt-3 rounded_lg border-info border mt-3 h-100 d-flex justify-content-between flex-column card_hover",children:[Object(I.jsx)(u.a,{className:" h-100",children:Object(I.jsxs)(h.a,{children:[Object(I.jsxs)(u.a,{children:[Object(I.jsx)(h.a,{children:Object(I.jsx)(m.a,{onClick:function(){return f(!O)},src:null!==a&&void 0!==a?a:"/assets/images/book.png",size:"small"})}),Object(I.jsxs)(h.a,{xs:9,children:[Object(I.jsx)("h3",{className:"text-capitalize",onClick:function(){return e.history.push("/posts/".concat(t))},style:{cursor:"pointer"},children:j}),Object(I.jsxs)("small",{className:"text-muted float-right",children:["-"," ",Object(I.jsx)(w.c,{to:"/".concat(n.username),children:n.name?n.name:n.username})]})]})]}),Object(I.jsx)(u.a,{className:"mt-1 btn p-0",onClick:function(){return e.history.push("/posts/".concat(t))},children:Object(I.jsx)(h.a,{className:"text-justify",children:c})})]})}),Object(I.jsxs)("small",{className:"text-muted text-center",children:["Posted ",_()(i).fromNow()]}),Object(I.jsx)(u.a,{children:Object(I.jsxs)(h.a,{children:[Object(I.jsx)("hr",{}),Object(I.jsxs)("div",{className:"d-flex justify-content-around mb-1 w-100",children:[Object(I.jsx)(k.a,{title:"Upvote",placement:"top",children:Object(I.jsxs)("p",{children:[Object(I.jsx)(p.a,{name:"arrow up circle",className:v()({"text-success":E}),onClick:function(){return M(1)},style:{cursor:"pointer"},size:"large"}),Object(I.jsxs)("small",{children:[" ",F>0&&F]})]})}),Object(I.jsx)(k.a,{title:"Save",placement:"top",children:Object(I.jsx)("p",{children:Object(I.jsx)(p.a,{name:"bookmark outline",className:v()({"text-info":W}),onClick:function(){return M(2)},style:{cursor:"pointer"},size:"large"})})}),Object(I.jsx)(k.a,{title:"Dismiss",placement:"top",children:Object(I.jsx)("p",{children:Object(I.jsx)(p.a,{name:"times",className:v()({"text-danger":G}),onClick:function(){return M(3)},style:{cursor:"pointer"},size:"large"})})})]})]})})]})]})}));var D=function(e){var t=e.cards,c=e.loading;return Object(I.jsxs)(b.a,{fluid:!0,className:"py-4 h-100 rounded_lg bg-white",children:[Object(I.jsx)(O.a,{head:"Saved Posts | ShareIIITD"}),Object(I.jsx)(u.a,{children:Object(I.jsxs)(h.a,{children:[Object(I.jsx)("h1",{children:"Saved Posts"}),Object(I.jsx)("hr",{}),c&&Object(I.jsxs)("div",{className:"text-muted text-center",children:[Object(I.jsx)(x.a,{})," Fetching new data"]}),Object(I.jsx)(u.a,{children:void 0===t||0==(null===t||void 0===t?void 0:t.length)?Object(I.jsx)(h.a,{children:Object(I.jsx)("h3",{className:"text-muted",children:" Nothing to show here"})}):Object(I.jsx)(I.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(I.jsx)(h.a,{xs:12,md:6,lg:4,className:"my-3",children:Object(I.jsx)(F,Object(a.a)({},e))},t)}))})})]})})]})};var P=function(e){var t=e.cards,c=e.loading;return Object(I.jsxs)(b.a,{fluid:!0,className:"py-4 h-100 rounded_lg bg-white",children:[Object(I.jsx)(O.a,{head:"Upvoted Posts | ShareIIITD"}),Object(I.jsx)(u.a,{children:Object(I.jsxs)(h.a,{children:[Object(I.jsx)("h1",{children:"Upvoted Posts"}),Object(I.jsx)("hr",{}),c&&Object(I.jsxs)("div",{className:"text-muted text-center",children:[Object(I.jsx)(x.a,{})," Fetching new data"]}),Object(I.jsx)(u.a,{children:void 0===t||0==(null===t||void 0===t?void 0:t.length)?Object(I.jsx)(h.a,{children:Object(I.jsx)("h3",{className:"text-muted",children:" Nothing to show here"})}):Object(I.jsx)(I.Fragment,{children:t.map((function(e,t){return Object(I.jsx)(h.a,{xs:12,md:6,lg:4,className:"my-3",children:Object(I.jsx)(F,Object(a.a)({},e))},t)}))})})]})})]})};var z=function(e){var t=e.cards,c=e.loading;return Object(I.jsxs)(b.a,{fluid:!0,className:"py-4 h-100 rounded_lg bg-white",children:[Object(I.jsx)(O.a,{head:"Dismissed Posts | ShareIIITD"}),Object(I.jsx)(u.a,{children:Object(I.jsxs)(h.a,{children:[Object(I.jsx)("h1",{children:"Dismissed Posts"}),Object(I.jsx)("hr",{}),c&&Object(I.jsxs)("div",{className:"text-muted text-center",children:[Object(I.jsx)(x.a,{})," Fetching new data"]}),Object(I.jsx)(u.a,{children:void 0===t||0==(null===t||void 0===t?void 0:t.length)?Object(I.jsx)(h.a,{children:Object(I.jsx)("h3",{className:"text-muted",children:" Nothing to show here"})}):Object(I.jsx)(I.Fragment,{children:t.map((function(e,t){return Object(I.jsx)(h.a,{xs:12,md:6,lg:4,className:"my-3",children:Object(I.jsx)(F,Object(a.a)({},e))},t)}))})})]})})]})},E=["children","value","index"];function T(e){var t=e.children,c=e.value,s=e.index,r=Object(n.a)(e,E);return Object(I.jsx)(I.Fragment,{children:c===s&&Object(I.jsx)("div",Object(a.a)(Object(a.a)({},r),{},{children:c===s&&Object(I.jsx)(d.a,{p:3,children:i.a.Children.map(t,(function(t,c){return i.a.cloneElement(t,Object(a.a)(Object(a.a)({},e),{},{index:c}))}))})}))})}t.default=function(){var e=["saved","upvoted","dismissed"],t=["book","group","electronic","other","skill"],c=Object(r.useState)(0),a=Object(s.a)(c,2),n=a[0],i=a[1],d=Object(r.useState)(0),x=Object(s.a)(d,2),O=x[0],m=x[1],p=Object(r.useState)([]),f=Object(s.a)(p,2),v=f[0],g=f[1],w=Object(r.useState)(!0),k=Object(s.a)(w,2),S=k[0],_=k[1],C=Object(y.c)();return Object(r.useEffect)((function(){_(!0),g([]);var c={category:t[O],choice:e[n]};C(Object(N.b)(c)).then((function(e){g(e),_(!1)}))}),[C,n,O]),Object(I.jsxs)(b.a,{fluid:!0,className:"p-3 bg-light h-100",children:[Object(I.jsx)(j.a,{children:Object(I.jsxs)(l.a,{value:n,onChange:function(e,t){return i(t)},indicatorColor:"primary",textColor:"primary",centered:!0,children:[Object(I.jsx)(o.a,{label:"Saved"}),Object(I.jsx)(o.a,{label:"Upvoted"}),Object(I.jsx)(o.a,{label:"Dismissed"})]})}),Object(I.jsxs)(u.a,{className:"mt-3",children:[Object(I.jsx)(h.a,{md:2,children:Object(I.jsx)(j.a,{children:Object(I.jsxs)(l.a,{value:O,onChange:function(e,t){return m(t)},indicatorColor:"primary",textColor:"primary",orientation:"vertical",centered:!0,children:[Object(I.jsx)(o.a,{label:"Books"}),Object(I.jsx)(o.a,{label:"Groups"}),Object(I.jsx)(o.a,{label:"Electronics"}),Object(I.jsx)(o.a,{label:"Other"}),Object(I.jsx)(o.a,{label:"Skill"})]})})}),Object(I.jsxs)(h.a,{children:[Object(I.jsx)(T,{value:n,cards:v,loading:S,index:0,children:Object(I.jsx)(D,{})}),Object(I.jsx)(T,{value:n,cards:v,loading:S,index:1,children:Object(I.jsx)(P,{})}),Object(I.jsx)(T,{value:n,cards:v,loading:S,index:2,children:Object(I.jsx)(z,{})})]})]})]})}}}]);
//# sourceMappingURL=17.2a87d71a.chunk.js.map