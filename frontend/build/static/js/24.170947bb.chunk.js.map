{"version":3,"sources":["Store/ActionCreators/people.js","Components/Discover/UserCard.jsx","Components/Discover/TopUsers.jsx","Components/Discover/index.jsx"],"names":["headers","Authorization","getAuthToken","fetchPeople","user","dispatch","a","type","ActionTypes","axios","get","apiUrl","then","response","data","catch","error","errmess","fetchPeopleSkills","params","category","username","results","followPeople","id","post","detail","unfollowPeople","delete","fetchTopPeople","UserCard","useState","imgErr","setImgErr","Container","className","Row","Col","style","height","width","borderRadius","CustomImage","src","image","onError","e","objectFit","to","name","bio","slice","length","TopUsers","useDispatch","topPeople","setTopPeople","useEffect","map","sm","md","lg","Math","random","Spinner","size","Discover","fluid","Meta","head","Search"],"mappings":"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","file":"static/js/24.170947bb.chunk.js","sourcesContent":["import axios from 'axios';\nimport { getAuthToken } from '../../Components/checkAuth';\nimport * as ActionTypes from '../ActionTypes';\nimport { apiUrl } from '../Urls';\n\nconst headers = () => ({\n\tAuthorization: 'Token ' + getAuthToken(),\n});\n\nexport const fetchPeople = user => {\n\treturn async dispatch => {\n\t\tdispatch({ type: ActionTypes.PEOPLE_DETAILS_FETCH_REQUEST });\n\t\treturn await axios\n\t\t\t.get(`${apiUrl}/api/users/${user}/`, {\n\t\t\t\theaders: headers(),\n\t\t\t})\n\t\t\t.then(response => {\n\t\t\t\tconst data = response.data;\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: ActionTypes.PEOPLE_DETAILS_FETCH_SUCCESS,\n\t\t\t\t\tdata,\n\t\t\t\t});\n\t\t\t\treturn data;\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: ActionTypes.PEOPLE_DETAILS_FETCH_FAILED,\n\t\t\t\t\terrmess: 'Error in connection with Server',\n\t\t\t\t});\n\t\t\t});\n\t};\n};\n\nexport const fetchPeopleSkills = user => {\n\treturn async dispatch => {\n\t\tdispatch({ type: ActionTypes.PEOPLE_SKILLS_FETCH_REQUEST });\n\t\treturn await axios\n\t\t\t.get(`${apiUrl}/api/posts`, {\n\t\t\t\tparams: { category: 'skill', username: user },\n\t\t\t\theaders: headers(),\n\t\t\t})\n\t\t\t.then(response => {\n\t\t\t\tconst data = response.data.results;\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: ActionTypes.PEOPLE_SKILLS_FETCH_SUCCESS,\n\t\t\t\t\tdata,\n\t\t\t\t});\n\t\t\t\treturn data;\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: ActionTypes.PEOPLE_SKILLS_FETCH_FAILED,\n\t\t\t\t\terrmess: 'Error in connection with Server',\n\t\t\t\t});\n\t\t\t});\n\t};\n};\n\nexport const followPeople = ({ id }) => {\n\treturn async dispatch => {\n\t\tdispatch({ type: ActionTypes.USER_FOLLOW_REQUEST });\n\t\treturn await axios\n\t\t\t.post(\n\t\t\t\t`${apiUrl}/api/following/`,\n\t\t\t\t{ user: id },\n\t\t\t\t{\n\t\t\t\t\theaders: headers(),\n\t\t\t\t}\n\t\t\t)\n\t\t\t.then(response => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: ActionTypes.USER_FOLLOW_SUCCESS,\n\t\t\t\t\tdata: response.data,\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (error?.response?.data?.detail) {\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: ActionTypes.USER_FOLLOW_FAILED,\n\t\t\t\t\t\terrmess: error.response.data.detail,\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: ActionTypes.USER_FOLLOW_FAILED,\n\t\t\t\t\t\terrmess: error.response,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t};\n};\n\nexport const unfollowPeople = ({ id }) => {\n\treturn async dispatch => {\n\t\tdispatch({ type: ActionTypes.USER_UNFOLLOW_REQUEST });\n\t\treturn await axios\n\t\t\t.delete(`${apiUrl}/api/following/${id}/`, {\n\t\t\t\theaders: headers(),\n\t\t\t})\n\t\t\t.then(response => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: ActionTypes.USER_UNFOLLOW_SUCCESS,\n\t\t\t\t\tdata: response.data,\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tif (error?.response?.data?.detail) {\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: ActionTypes.USER_UNFOLLOW_FAILED,\n\t\t\t\t\t\terrmess: error.response.data.detail,\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: ActionTypes.USER_UNFOLLOW_FAILED,\n\t\t\t\t\t\terrmess: error.response,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t};\n};\n\nexport const fetchTopPeople = () => {\n\treturn async dispatch => {\n\t\tdispatch({ type: ActionTypes.TOP_PEOPLE_REQUEST });\n\t\treturn await axios\n\t\t\t.get(`${apiUrl}/api/popularusers/`, {\n\t\t\t\theaders: headers(),\n\t\t\t})\n\t\t\t.then(response => {\n\t\t\t\tconst data = response.data.results;\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: ActionTypes.TOP_PEOPLE_SUCCESS,\n\t\t\t\t\tdata,\n\t\t\t\t});\n\t\t\t\treturn data;\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: ActionTypes.TOP_PEOPLE_FAILED,\n\t\t\t\t\terrmess: 'Error in connection with Server',\n\t\t\t\t});\n\t\t\t});\n\t};\n};\n","import { useState } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Col, Container, Row } from 'reactstrap';\r\nimport CustomImage from '../../Utils/CustomImage';\r\n\r\nfunction UserCard({ user }) {\r\n\tconst [imgErr, setImgErr] = useState(false);\r\n\r\n\treturn (\r\n\t\t<Container className=\" bg-white py-2 rounded_lg h-100 card_hover border\">\r\n\t\t\t<Row>\r\n\t\t\t\t<Col className=\"justify-content-center d-flex\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{ height: '6rem', width: '6rem', borderRadius: '50%' }}\r\n\t\t\t\t\t\tclassName=\"overflow-hidden\">\r\n\t\t\t\t\t\t<CustomImage\r\n\t\t\t\t\t\t\tsrc={\r\n\t\t\t\t\t\t\t\t!imgErr\r\n\t\t\t\t\t\t\t\t\t? user.image ??\r\n\t\t\t\t\t\t\t\t\t  process.env.PUBLIC_URL + '/assets/images/user.png'\r\n\t\t\t\t\t\t\t\t\t: process.env.PUBLIC_URL + '/assets/images/user.png'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonError={e => setImgErr(true)}\r\n\t\t\t\t\t\t\tclassName=\"h-100 w-100\"\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tobjectFit: 'cover',\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t\t<Row>\r\n\t\t\t\t<Col className=\"text-center mt-2\">\r\n\t\t\t\t\t<NavLink to={`/${user.username}`}>\r\n\t\t\t\t\t\t<p className=\"text-muted\">{user?.name}</p>\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t\t<hr />\r\n\t\t\t<Row>\r\n\t\t\t\t<Col>\r\n\t\t\t\t\t<NavLink to={`/${user.username}`}>\r\n\t\t\t\t\t\t<small className=\"text-muted\">\r\n\t\t\t\t\t\t\t{user.bio ? (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t{user.bio?.slice(0, 70)}{' '}\r\n\t\t\t\t\t\t\t\t\t{user.bio?.length > 70 && (\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-info\">... see more</p>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<p>Too modest to write something here ;)</p>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</small>\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</Container>\r\n\t);\r\n}\r\n\r\nexport default UserCard;\r\n","import { Chip } from '@mui/material';\r\nimport { useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Col, Row, Spinner } from 'reactstrap';\r\nimport { fetchTopPeople } from '../../Store/ActionCreators/people';\r\nimport UserCard from './UserCard';\r\n\r\nfunction TopUsers() {\r\n\tconst dispatch = useDispatch();\r\n\tconst [topPeople, setTopPeople] = useState(null);\r\n\tuseEffect(async () => {\r\n\t\tsetTopPeople(await dispatch(fetchTopPeople()));\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Row>\r\n\t\t\t<Col>\r\n\t\t\t\t<h2>Popular Users</h2>\r\n\t\t\t\t{topPeople ? (\r\n\t\t\t\t\t<Row className=\"text-break\">\r\n\t\t\t\t\t\t{topPeople?.map(user => (\r\n\t\t\t\t\t\t\t<Col sm={6} md={4} lg={3} className=\"my-2\" key={Math.random()}>\r\n\t\t\t\t\t\t\t\t<UserCard user={user} />\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<p className=\"text-muted\">\r\n\t\t\t\t\t\t<Spinner size=\"sm\" /> Fetching Popular users\r\n\t\t\t\t\t</p>\r\n\t\t\t\t)}\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t);\r\n}\r\n\r\nexport default TopUsers;\r\n","import { Col, Container, Row } from 'reactstrap';\r\nimport Meta from '../Meta';\r\nimport Search from './Search';\r\nimport TopUsers from './TopUsers';\r\n\r\nfunction Discover() {\r\n\treturn (\r\n\t\t<Container fluid className=\"p-3 bg-light h-100\">\r\n\t\t\t<Meta head=\"Discover | ShareIIIT\" />\r\n\t\t\t<Row className=\"justify-content-center\">\r\n\t\t\t\t<Col md={10}>\r\n\t\t\t\t\t<Container\r\n\t\t\t\t\t\tfluid\r\n\t\t\t\t\t\tclassName=\"shadow my-3 py-4 rounded_lg bg-white align-items-center\">\r\n\t\t\t\t\t\t<Search />\r\n\t\t\t\t\t\t<TopUsers />\r\n\t\t\t\t\t</Container>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</Container>\r\n\t);\r\n}\r\n\r\nexport default Discover;\r\n"],"sourceRoot":""}